# Copy block này vào /etc/nginx/sites-available/default (hoặc file site riêng)
# Bạn 2 – nguyenquochuy.online (và www) → proxy sang app port 5295
# Sau khi có domain, dùng server_name; nếu chưa có domain dùng listen 8080 + server_name 103.56.160.199

# Phiên bản dùng tên miền (listen 80, sau đó chạy certbot để bật HTTPS):
server {
    listen 80;
    server_name nguyenquochuy.online www.nguyenquochuy.online;
    location / {
        proxy_pass http://localhost:5295;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection keep-alive;
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}

# Phiên bản dùng IP (listen 8080) – dùng khi chưa cấu domain:
# server {
#     listen 8080;
#     server_name 103.56.160.199;
#     location / { ... proxy_pass http://localhost:5295; ... }
# }
